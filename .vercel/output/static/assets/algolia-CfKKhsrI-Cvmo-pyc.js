import{c as a}from"./index-C-0In_at.js";import"./search-default-Cgr5D8MH.js";import"./main-BXy83AsK.js";import"./search-rY6WEBf1.js";function l(e){const r=[],n=new Set;for(const t of e)n.has(t.url)||(n.add(t.url),r.push({id:t.url,type:"page",breadcrumbs:t.breadcrumbs,url:t.url,content:t.title})),r.push({id:t.objectID,type:t.content===t.section?"heading":"text",url:t.section_id?`${t.url}#${t.section_id}`:t.url,content:t.content});return r}async function f(e,{indexName:r,onSearch:n,client:t,locale:o,tag:i}){if(e.trim().length===0)return[];const c=n?await n(e,i,o):await t.searchForHits({requests:[{type:"default",indexName:r,query:e,distinct:5,hitsPerPage:10,filters:i?`tag:${i}`:void 0}]}),u=a(e);return l(c.results[0].hits).flatMap(s=>s.type==="page"?{...s,content:u.highlightMarkdown(s.content)}:[])}export{f as searchDocs};
