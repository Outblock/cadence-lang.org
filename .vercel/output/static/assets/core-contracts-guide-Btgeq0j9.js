import{j as e}from"./main-BXy83AsK.js";let c="\n\nProtocol Smart Contracts in Cadence 1.0 [#protocol-smart-contracts-in-cadence-10]\n\n:::important\nOn September 4th, 2024, the Flow Mainnet upgraded to Cadence 1.0. In addition to many changes to the Cadence programming language and the Cadence token standards, the Flow Protocol smart contracts were also updated to be compatible with the changes.\n\nAll applications that interact with these contracts need to update their transactions and scripts in order to be compatible with these changes.\n:::\n\nImportant info [#important-info]\n\nThis document assumes you have a basic understanding of the [Cadence 1.0 improvements] and modifications to the Fungible Token Standard. We encourage you to consult those guides for more details on these changes if you are interested.\n\nThe updated code for the Cadence 1.0 versions of the protocol smart contracts is located in the [`master` branch of the flow-core-contracts repo]. Please look at the [PR that made the changes] to understand how the contracts have changed. Every contract in the repo changed.\n\nAdditionally, here are the import addresses for all of the important contracts related to the protocol:\n\n| Contract                     | Emulator import address | Testing framework    |\n| ---------------------------- | ----------------------- | -------------------- |\n| `FungibleToken`              | `0xee82856bf20e2aa6`    | `0x0000000000000002` |\n| `ViewResolver`               | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n| `Burner`                     | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n| `MetadataViews`              | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n| `FungibleTokenMetadataViews` | `0xee82856bf20e2aa6`    | `0x0000000000000002` |\n| `FlowToken`                  | `0x0ae53cb6e3f42a79`    | `0x0000000000000003` |\n| `FlowFees`                   | `0xe5a8b7f23e8b548f`    | `0x0000000000000004` |\n| `FlowStorageFees`            | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n| `FlowServiceAccount`         | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n| `NodeVersionBeacon`          | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n| `RandomBeaconHistory`        | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n| `LockedTokens`               | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n| `StakingProxy`               | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n| `FlowIDTableStaking`         | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n| `FlowClusterQC`              | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n| `FlowDKG`                    | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n| `FlowEpoch`                  | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n| `FlowStakingCollection`      | `0xf8d6e0586b0a20c7`    | `0x0000000000000001` |\n\nSee the other guides in this section of the docs for the import addresses of other important contracts in the emulator.\n\nUpgrade guide [#upgrade-guide]\n\nThe NFT guide covers a lot of common changes that are required for NFT contracts, but many of these changes will also apply to any contract on Flow, so it is still useful to read even if you don't have an NFT contract.\n\nThe core contracts do not have any meaningful changes outside of what is required to be compatible with Cadence 1.0 and the token standard changes. If you have questions about the core contracts changes for Cadence 1.0, please reach out to the Flow team in Discord and we will be happy to help.\n\n{/* Relative links. Will not render on the page */}\n\n[Cadence 1.0 improvements]: ./improvements\n\n[`master` branch of the flow-core-contracts repo]: https://github.com/onflow/flow-core-contracts\n\n[PR that made the changes]: https://github.com/onflow/flow-core-contracts/pull/319\n",d={title:"Protocol Smart Contracts 1.0 Changes Guide"},i={contents:[{heading:"protocol-smart-contracts-in-cadence-10",content:`:::important
On September 4th, 2024, the Flow Mainnet upgraded to Cadence 1.0. In addition to many changes to the Cadence programming language and the Cadence token standards, the Flow Protocol smart contracts were also updated to be compatible with the changes.`},{heading:"protocol-smart-contracts-in-cadence-10",content:`All applications that interact with these contracts need to update their transactions and scripts in order to be compatible with these changes.
:::`},{heading:"important-info",content:"This document assumes you have a basic understanding of the [Cadence 1.0 improvements] and modifications to the Fungible Token Standard. We encourage you to consult those guides for more details on these changes if you are interested."},{heading:"important-info",content:"The updated code for the Cadence 1.0 versions of the protocol smart contracts is located in the [`master` branch of the flow-core-contracts repo]. Please look at the [PR that made the changes] to understand how the contracts have changed. Every contract in the repo changed."},{heading:"important-info",content:"Additionally, here are the import addresses for all of the important contracts related to the protocol:"},{heading:"important-info",content:"Contract"},{heading:"important-info",content:"Emulator import address"},{heading:"important-info",content:"Testing framework"},{heading:"important-info",content:"`FungibleToken`"},{heading:"important-info",content:"`0xee82856bf20e2aa6`"},{heading:"important-info",content:"`0x0000000000000002`"},{heading:"important-info",content:"`ViewResolver`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"`Burner`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"`MetadataViews`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"`FungibleTokenMetadataViews`"},{heading:"important-info",content:"`0xee82856bf20e2aa6`"},{heading:"important-info",content:"`0x0000000000000002`"},{heading:"important-info",content:"`FlowToken`"},{heading:"important-info",content:"`0x0ae53cb6e3f42a79`"},{heading:"important-info",content:"`0x0000000000000003`"},{heading:"important-info",content:"`FlowFees`"},{heading:"important-info",content:"`0xe5a8b7f23e8b548f`"},{heading:"important-info",content:"`0x0000000000000004`"},{heading:"important-info",content:"`FlowStorageFees`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"`FlowServiceAccount`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"`NodeVersionBeacon`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"`RandomBeaconHistory`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"`LockedTokens`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"`StakingProxy`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"`FlowIDTableStaking`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"`FlowClusterQC`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"`FlowDKG`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"`FlowEpoch`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"`FlowStakingCollection`"},{heading:"important-info",content:"`0xf8d6e0586b0a20c7`"},{heading:"important-info",content:"`0x0000000000000001`"},{heading:"important-info",content:"See the other guides in this section of the docs for the import addresses of other important contracts in the emulator."},{heading:"upgrade-guide",content:"The NFT guide covers a lot of common changes that are required for NFT contracts, but many of these changes will also apply to any contract on Flow, so it is still useful to read even if you don't have an NFT contract."},{heading:"upgrade-guide",content:"The core contracts do not have any meaningful changes outside of what is required to be compatible with Cadence 1.0 and the token standard changes. If you have questions about the core contracts changes for Cadence 1.0, please reach out to the Flow team in Discord and we will be happy to help."}],headings:[{id:"protocol-smart-contracts-in-cadence-10",content:"Protocol Smart Contracts in Cadence 1.0"},{id:"important-info",content:"Important info"},{id:"upgrade-guide",content:"Upgrade guide"}]};const r=[{depth:1,url:"#protocol-smart-contracts-in-cadence-10",title:e.jsx(e.Fragment,{children:"Protocol Smart Contracts in Cadence 1.0"})},{depth:2,url:"#important-info",title:e.jsx(e.Fragment,{children:"Important info"})},{depth:2,url:"#upgrade-guide",title:e.jsx(e.Fragment,{children:"Upgrade guide"})}];function o(n){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...n.components};return e.jsxs(e.Fragment,{children:[e.jsx(t.h1,{id:"protocol-smart-contracts-in-cadence-10",children:"Protocol Smart Contracts in Cadence 1.0"}),`
`,e.jsx(t.p,{children:`:::important
On September 4th, 2024, the Flow Mainnet upgraded to Cadence 1.0. In addition to many changes to the Cadence programming language and the Cadence token standards, the Flow Protocol smart contracts were also updated to be compatible with the changes.`}),`
`,e.jsx(t.p,{children:`All applications that interact with these contracts need to update their transactions and scripts in order to be compatible with these changes.
:::`}),`
`,e.jsx(t.h2,{id:"important-info",children:"Important info"}),`
`,e.jsxs(t.p,{children:["This document assumes you have a basic understanding of the ",e.jsx(t.a,{href:"./improvements",children:"Cadence 1.0 improvements"})," and modifications to the Fungible Token Standard. We encourage you to consult those guides for more details on these changes if you are interested."]}),`
`,e.jsxs(t.p,{children:["The updated code for the Cadence 1.0 versions of the protocol smart contracts is located in the ",e.jsxs(t.a,{href:"https://github.com/onflow/flow-core-contracts",children:[e.jsx(t.code,{children:"master"})," branch of the flow-core-contracts repo"]}),". Please look at the ",e.jsx(t.a,{href:"https://github.com/onflow/flow-core-contracts/pull/319",children:"PR that made the changes"})," to understand how the contracts have changed. Every contract in the repo changed."]}),`
`,e.jsx(t.p,{children:"Additionally, here are the import addresses for all of the important contracts related to the protocol:"}),`
`,e.jsxs(t.table,{children:[e.jsx(t.thead,{children:e.jsxs(t.tr,{children:[e.jsx(t.th,{children:"Contract"}),e.jsx(t.th,{children:"Emulator import address"}),e.jsx(t.th,{children:"Testing framework"})]})}),e.jsxs(t.tbody,{children:[e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"FungibleToken"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xee82856bf20e2aa6"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000002"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"ViewResolver"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"Burner"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"MetadataViews"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"FungibleTokenMetadataViews"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xee82856bf20e2aa6"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000002"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"FlowToken"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0ae53cb6e3f42a79"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000003"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"FlowFees"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xe5a8b7f23e8b548f"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000004"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"FlowStorageFees"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"FlowServiceAccount"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"NodeVersionBeacon"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"RandomBeaconHistory"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"LockedTokens"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"StakingProxy"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"FlowIDTableStaking"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"FlowClusterQC"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"FlowDKG"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"FlowEpoch"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]}),e.jsxs(t.tr,{children:[e.jsx(t.td,{children:e.jsx(t.code,{children:"FlowStakingCollection"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0xf8d6e0586b0a20c7"})}),e.jsx(t.td,{children:e.jsx(t.code,{children:"0x0000000000000001"})})]})]})]}),`
`,e.jsx(t.p,{children:"See the other guides in this section of the docs for the import addresses of other important contracts in the emulator."}),`
`,e.jsx(t.h2,{id:"upgrade-guide",children:"Upgrade guide"}),`
`,e.jsx(t.p,{children:"The NFT guide covers a lot of common changes that are required for NFT contracts, but many of these changes will also apply to any contract on Flow, so it is still useful to read even if you don't have an NFT contract."}),`
`,e.jsx(t.p,{children:"The core contracts do not have any meaningful changes outside of what is required to be compatible with Cadence 1.0 and the token standard changes. If you have questions about the core contracts changes for Cadence 1.0, please reach out to the Flow team in Discord and we will be happy to help."}),`
`]})}function s(n={}){const{wrapper:t}=n.components||{};return t?e.jsx(t,{...n,children:e.jsx(o,{...n})}):o(n)}export{c as _markdown,s as default,d as frontmatter,i as structuredData,r as toc};
