import { C as useI18n, G as useOnChange, F as useRouter, b as buttonVariants$1, I as I18nLabel } from "./router-0MOvnyX6.mjs";
import { t as twMerge } from "../_libs/tailwind-merge.mjs";
import { r as reactExports, j as jsxRuntimeExports, J as JsxRuntime } from "../_chunks/_libs/react.mjs";
import { c as cva } from "../_libs/class-variance-authority.mjs";
import { e } from "../_libs/scroll-into-view-if-needed.mjs";
import { D as Dialog, a as DialogOverlay, b as DialogContent, c as DialogTitle } from "../_chunks/_libs/@radix-ui/react-dialog.mjs";
import { r as remark } from "../_libs/remark.mjs";
import { S as Search, f as ChevronRight, H as Hash } from "../_libs/lucide-react.mjs";
import { r as remarkRehype } from "../_libs/remark-rehype.mjs";
import { V as VFile } from "../_libs/vfile.mjs";
import { t as toJsxRuntime } from "../_libs/hast-util-to-jsx-runtime.mjs";
import { r as rehypeRaw } from "../_libs/rehype-raw.mjs";
import { v as visit } from "../_libs/unist-util-visit.mjs";
import "../_chunks/_libs/@tanstack/router-core.mjs";
import "../_libs/cookie-es.mjs";
import "../_chunks/_libs/@tanstack/history.mjs";
import "../_libs/tiny-invariant.mjs";
import "../_libs/seroval.mjs";
import "../_libs/seroval-plugins.mjs";
import "node:stream/web";
import "node:stream";
import "../_chunks/_libs/@tanstack/react-router.mjs";
import "../_libs/tiny-warning.mjs";
import "../_chunks/_libs/react-dom.mjs";
import "util";
import "crypto";
import "async_hooks";
import "stream";
import "../_libs/isbot.mjs";
import "../_chunks/_libs/@radix-ui/react-direction.mjs";
import "../_libs/next-themes.mjs";
import "./source-CiVroWBe.mjs";
import "node:path";
import "../_libs/fumadocs-mdx.mjs";
import "../_chunks/_libs/@radix-ui/react-collapsible.mjs";
import "../_chunks/_libs/@radix-ui/primitive.mjs";
import "../_chunks/_libs/@radix-ui/react-context.mjs";
import "../_chunks/_libs/@radix-ui/react-use-controllable-state.mjs";
import "../_chunks/_libs/@radix-ui/react-use-layout-effect.mjs";
import "../_chunks/_libs/@radix-ui/react-compose-refs.mjs";
import "../_chunks/_libs/@radix-ui/react-primitive.mjs";
import "../_chunks/_libs/@radix-ui/react-slot.mjs";
import "../_chunks/_libs/@radix-ui/react-presence.mjs";
import "../_chunks/_libs/@radix-ui/react-id.mjs";
import "../_chunks/_libs/@radix-ui/react-scroll-area.mjs";
import "../_chunks/_libs/@radix-ui/react-use-callback-ref.mjs";
import "../_chunks/_libs/@radix-ui/number.mjs";
import "../_chunks/_libs/@radix-ui/react-popover.mjs";
import "../_chunks/_libs/@radix-ui/react-dismissable-layer.mjs";
import "../_chunks/_libs/@radix-ui/react-use-escape-keydown.mjs";
import "../_chunks/_libs/@radix-ui/react-focus-guards.mjs";
import "../_chunks/_libs/@radix-ui/react-focus-scope.mjs";
import "../_chunks/_libs/@radix-ui/react-popper.mjs";
import "../_chunks/_libs/@floating-ui/react-dom.mjs";
import "../_chunks/_libs/@floating-ui/dom.mjs";
import "../_chunks/_libs/@floating-ui/core.mjs";
import "../_chunks/_libs/@floating-ui/utils.mjs";
import "../_chunks/_libs/@radix-ui/react-arrow.mjs";
import "../_chunks/_libs/@radix-ui/react-use-size.mjs";
import "../_chunks/_libs/@radix-ui/react-portal.mjs";
import "../_libs/aria-hidden.mjs";
import "../_libs/react-remove-scroll.mjs";
import "../_libs/tslib.mjs";
import "../_libs/react-remove-scroll-bar.mjs";
import "../_libs/react-style-singleton.mjs";
import "../_libs/get-nonce.mjs";
import "../_libs/use-sidecar.mjs";
import "../_libs/use-callback-ref.mjs";
import "../_chunks/_libs/@radix-ui/react-tabs.mjs";
import "../_chunks/_libs/@radix-ui/react-roving-focus.mjs";
import "../_chunks/_libs/@radix-ui/react-collection.mjs";
import "./index.mjs";
import "node:async_hooks";
import "../_libs/h3-v2.mjs";
import "../_libs/rou3.mjs";
import "../_libs/srvx.mjs";
import "../_chunks/_libs/@takumi-rs/image-response.mjs";
import "../_chunks/_libs/@takumi-rs/core.mjs";
import "node:module";
import "../_chunks/_libs/@takumi-rs/helpers.mjs";
import "../_chunks/_libs/@orama/orama.mjs";
import "../_libs/clsx.mjs";
import "../_libs/compute-scroll-into-view.mjs";
import "../_libs/unified.mjs";
import "../_libs/bail.mjs";
import "../_libs/extend.mjs";
import "../_libs/is-plain-obj.mjs";
import "../_libs/trough.mjs";
import "../_libs/vfile-message.mjs";
import "../_libs/unist-util-stringify-position.mjs";
import "node:process";
import "node:url";
import "../_libs/remark-parse.mjs";
import "../_libs/mdast-util-from-markdown.mjs";
import "../_libs/_CsVBVMCu.mjs";
import "../_libs/micromark-util-decode-string.mjs";
import "../_libs/_vrBDkZ3q.mjs";
import "../_libs/character-entities.mjs";
import "../_libs/_CuJVDrso.mjs";
import "../_libs/micromark.mjs";
import "../_libs/_DLD8nrUX.mjs";
import "../_libs/micromark-util-chunked.mjs";
import "../_libs/micromark-factory-space.mjs";
import "../_libs/micromark-util-character.mjs";
import "../_libs/micromark-core-commonmark.mjs";
import "../_libs/_B_D99lZj.mjs";
import "../_libs/micromark-util-resolve-all.mjs";
import "../_libs/micromark-util-subtokenize.mjs";
import "../_libs/micromark-factory-destination.mjs";
import "../_libs/micromark-factory-label.mjs";
import "../_libs/micromark-factory-title.mjs";
import "../_libs/micromark-factory-whitespace.mjs";
import "../_libs/micromark-util-html-tag-name.mjs";
import "../_libs/mdast-util-to-string.mjs";
import "../_libs/remark-stringify.mjs";
import "../_libs/mdast-util-to-markdown.mjs";
import "../_libs/zwitch.mjs";
import "../_libs/longest-streak.mjs";
import "../_libs/unist-util-visit-parents.mjs";
import "../_libs/unist-util-is.mjs";
import "../_libs/mdast-util-phrasing.mjs";
import "../_libs/mdast-util-to-hast.mjs";
import "../_chunks/_libs/@ungap/structured-clone.mjs";
import "../_libs/micromark-util-sanitize-uri.mjs";
import "../_libs/unist-util-position.mjs";
import "../_libs/trim-lines.mjs";
import "../_libs/comma-separated-tokens.mjs";
import "../_libs/devlop.mjs";
import "../_libs/property-information.mjs";
import "../_libs/space-separated-tokens.mjs";
import "../_libs/style-to-js.mjs";
import "../_libs/style-to-object.mjs";
import "../_libs/inline-style-parser.mjs";
import "../_libs/hast-util-whitespace.mjs";
import "../_libs/estree-util-is-identifier-name.mjs";
import "../_libs/hast-util-raw.mjs";
import "../_libs/html-void-elements.mjs";
import "../_libs/web-namespaces.mjs";
import "../_libs/parse5.mjs";
import "../_libs/entities.mjs";
import "../_libs/hast-util-from-parse5.mjs";
import "../_libs/hastscript.mjs";
import "../_libs/hast-util-parse-selector.mjs";
import "../_libs/vfile-location.mjs";
import "../_libs/hast-util-to-parse5.mjs";
function createMarkdownRenderer({ rehypePlugins = [], remarkPlugins = [], remarkRehypeOptions } = {}) {
  const processor = remark().use(remarkPlugins).use(remarkRehype, remarkRehypeOptions).use(rehypePlugins);
  const cache = {};
  const promises = {};
  function render(tree, file, props) {
    return toJsxRuntime(tree, {
      development: false,
      filePath: file.path,
      components: props.components,
      ...JsxRuntime
    });
  }
  function parse(file, _props) {
    return processor.parse(file);
  }
  return {
    Markdown(props) {
      const { async = false, children } = props;
      const file = new VFile(children);
      const key = String(file.value);
      if (async) {
        promises[key] ??= processor.run(parse(file), file);
        return render(reactExports.use(promises[key]), file, props);
      }
      cache[key] ??= processor.runSync(parse(file), file);
      return render(cache[key], file, props);
    },
    async MarkdownServer(props) {
      const file = new VFile(props.children);
      return render(await processor.run(parse(file), file), file, props);
    }
  };
}
const RootContext = reactExports.createContext(null);
const ListContext = reactExports.createContext(null);
const TagsListContext = reactExports.createContext(null);
const PreContext = reactExports.createContext(false);
const mdRenderer = createMarkdownRenderer({
  remarkRehypeOptions: { allowDangerousHtml: true },
  rehypePlugins: [rehypeRaw, rehypeCustomElements]
});
const mdComponents = {
  mark(props) {
    return /* @__PURE__ */ jsxRuntimeExports.jsx("span", {
      ...props,
      className: "text-fd-primary underline"
    });
  },
  a: "span",
  p(props) {
    return /* @__PURE__ */ jsxRuntimeExports.jsx("p", {
      ...props,
      className: "min-w-0"
    });
  },
  strong(props) {
    return /* @__PURE__ */ jsxRuntimeExports.jsx("strong", {
      ...props,
      className: "text-fd-accent-foreground font-medium"
    });
  },
  code(props) {
    if (reactExports.use(PreContext)) return /* @__PURE__ */ jsxRuntimeExports.jsx("code", {
      ...props,
      className: "mask-[linear-gradient(to_bottom,white,white_30px,transparent_80px)]"
    });
    return /* @__PURE__ */ jsxRuntimeExports.jsx("code", {
      ...props,
      className: "border rounded-md px-px bg-fd-secondary text-fd-secondary-foreground"
    });
  },
  custom({ _tagName = "fragment", children, ...rest }) {
    return /* @__PURE__ */ jsxRuntimeExports.jsxs("span", {
      className: "inline-flex max-w-full items-center border p-0.5 rounded-md bg-fd-card text-fd-card-foreground divide-x divide-fd-border",
      children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx("code", {
          className: "rounded-sm px-0.5 me-1 bg-fd-primary font-medium text-xs text-fd-primary-foreground border-none",
          children: _tagName
        }),
        Object.entries(rest).map(([k, v]) => {
          if (typeof v !== "string") return;
          return /* @__PURE__ */ jsxRuntimeExports.jsxs("code", {
            className: "truncate text-xs text-fd-muted-foreground px-1",
            children: [/* @__PURE__ */ jsxRuntimeExports.jsxs("span", {
              className: "text-fd-card-foreground",
              children: [k, ": "]
            }), v]
          }, k);
        }),
        children && /* @__PURE__ */ jsxRuntimeExports.jsx("span", {
          className: "ps-1",
          children
        })
      ]
    });
  },
  pre(props) {
    return /* @__PURE__ */ jsxRuntimeExports.jsx("pre", {
      ...props,
      className: twMerge("flex flex-col border rounded-md my-0.5 p-2 bg-fd-secondary text-fd-secondary-foreground max-h-20 overflow-hidden", props.className),
      children: /* @__PURE__ */ jsxRuntimeExports.jsx(PreContext, {
        value: true,
        children: props.children
      })
    });
  }
};
function rehypeCustomElements() {
  return (tree) => {
    visit(tree, (node) => {
      if (node.type === "element" && document.createElement(node.tagName) instanceof HTMLUnknownElement) {
        node.properties._tagName = node.tagName;
        node.tagName = "custom";
      }
    });
  };
}
function SearchDialog({ open, onOpenChange, search, onSearchChange, isLoading = false, onSelect: onSelectProp, children }) {
  const router = useRouter();
  const onOpenChangeCallback = reactExports.useRef(onOpenChange);
  onOpenChangeCallback.current = onOpenChange;
  const onSearchChangeCallback = reactExports.useRef(onSearchChange);
  onSearchChangeCallback.current = onSearchChange;
  const onSelect = (item) => {
    if (item.type === "action") item.onSelect();
    else if (item.external) window.open(item.url, "_blank")?.focus();
    else router.push(item.url);
    onOpenChange(false);
    onSelectProp?.(item);
  };
  const onSelectCallback = reactExports.useRef(onSelect);
  onSelectCallback.current = onSelect;
  return /* @__PURE__ */ jsxRuntimeExports.jsx(Dialog, {
    open,
    onOpenChange,
    children: /* @__PURE__ */ jsxRuntimeExports.jsx(RootContext, {
      value: reactExports.useMemo(() => ({
        open,
        search,
        isLoading,
        onOpenChange: (v) => onOpenChangeCallback.current(v),
        onSearchChange: (v) => onSearchChangeCallback.current(v),
        onSelect: (v) => onSelectCallback.current(v)
      }), [
        isLoading,
        open,
        search
      ]),
      children
    })
  });
}
function SearchDialogHeader(props) {
  return /* @__PURE__ */ jsxRuntimeExports.jsx("div", {
    ...props,
    className: twMerge("flex flex-row items-center gap-2 p-3", props.className)
  });
}
function SearchDialogInput(props) {
  const { text } = useI18n();
  const { search, onSearchChange } = useSearch();
  return /* @__PURE__ */ jsxRuntimeExports.jsx("input", {
    ...props,
    value: search,
    onChange: (e2) => onSearchChange(e2.target.value),
    placeholder: text.search,
    className: "w-0 flex-1 bg-transparent text-lg placeholder:text-fd-muted-foreground focus-visible:outline-none"
  });
}
function SearchDialogClose({ children = "ESC", className, ...props }) {
  const { onOpenChange } = useSearch();
  return /* @__PURE__ */ jsxRuntimeExports.jsx("button", {
    type: "button",
    onClick: () => onOpenChange(false),
    className: twMerge(buttonVariants$1({
      color: "outline",
      size: "sm",
      className: "font-mono text-fd-muted-foreground"
    }), className),
    ...props,
    children
  });
}
function SearchDialogFooter(props) {
  return /* @__PURE__ */ jsxRuntimeExports.jsx("div", {
    ...props,
    className: twMerge("bg-fd-secondary/50 p-3 empty:hidden", props.className)
  });
}
function SearchDialogOverlay(props) {
  return /* @__PURE__ */ jsxRuntimeExports.jsx(DialogOverlay, {
    ...props,
    className: twMerge("fixed inset-0 z-50 backdrop-blur-xs bg-fd-overlay data-[state=open]:animate-fd-fade-in data-[state=closed]:animate-fd-fade-out", props.className)
  });
}
function SearchDialogContent({ children, ...props }) {
  const { text } = useI18n();
  return /* @__PURE__ */ jsxRuntimeExports.jsxs(DialogContent, {
    "aria-describedby": void 0,
    ...props,
    className: twMerge("fixed left-1/2 top-4 md:top-[calc(50%-250px)] z-50 w-[calc(100%-1rem)] max-w-screen-sm -translate-x-1/2 rounded-xl border bg-fd-popover text-fd-popover-foreground shadow-2xl shadow-black/50 overflow-hidden data-[state=closed]:animate-fd-dialog-out data-[state=open]:animate-fd-dialog-in", "*:border-b *:has-[+:last-child[data-empty=true]]:border-b-0 *:data-[empty=true]:border-b-0 *:last:border-b-0", props.className),
    children: [/* @__PURE__ */ jsxRuntimeExports.jsx(DialogTitle, {
      className: "hidden",
      children: text.search
    }), children]
  });
}
function SearchDialogList({ items = null, Empty = () => /* @__PURE__ */ jsxRuntimeExports.jsx("div", {
  className: "py-12 text-center text-sm text-fd-muted-foreground",
  children: /* @__PURE__ */ jsxRuntimeExports.jsx(I18nLabel, { label: "searchNoResult" })
}), Item = (props2) => /* @__PURE__ */ jsxRuntimeExports.jsx(SearchDialogListItem, { ...props2 }), ...props }) {
  const ref = reactExports.useRef(null);
  const { onSelect } = useSearch();
  const [active, setActive] = reactExports.useState(() => items && items.length > 0 ? items[0].id : null);
  const onKey = reactExports.useEffectEvent((e2) => {
    if (!items || e2.isComposing) return;
    if (e2.key === "ArrowDown" || e2.key == "ArrowUp") {
      let idx = items.findIndex((item) => item.id === active);
      if (idx === -1) idx = 0;
      else if (e2.key === "ArrowDown") idx++;
      else idx--;
      setActive(items.at(idx % items.length)?.id ?? null);
      e2.preventDefault();
    }
    if (e2.key === "Enter") {
      const selected = items.find((item) => item.id === active);
      if (selected) onSelect(selected);
      e2.preventDefault();
    }
  });
  reactExports.useEffect(() => {
    const element = ref.current;
    if (!element) return;
    const observer = new ResizeObserver(() => {
      const viewport2 = element.firstElementChild;
      element.style.setProperty("--fd-animated-height", `${viewport2.clientHeight}px`);
    });
    const viewport = element.firstElementChild;
    if (viewport) observer.observe(viewport);
    window.addEventListener("keydown", onKey);
    return () => {
      observer.disconnect();
      window.removeEventListener("keydown", onKey);
    };
  }, []);
  useOnChange(items, () => {
    if (items && items.length > 0) setActive(items[0].id);
  });
  return /* @__PURE__ */ jsxRuntimeExports.jsx("div", {
    ...props,
    ref,
    "data-empty": items === null,
    className: twMerge("overflow-hidden h-(--fd-animated-height) transition-[height]", props.className),
    children: /* @__PURE__ */ jsxRuntimeExports.jsx("div", {
      className: twMerge("w-full flex flex-col overflow-y-auto max-h-[460px] p-1", !items && "hidden"),
      children: /* @__PURE__ */ jsxRuntimeExports.jsxs(ListContext, {
        value: reactExports.useMemo(() => ({
          active,
          setActive
        }), [active]),
        children: [items?.length === 0 && Empty(), items?.map((item) => /* @__PURE__ */ jsxRuntimeExports.jsx(reactExports.Fragment, { children: Item({
          item,
          onClick: () => onSelect(item)
        }) }, item.id))]
      })
    })
  });
}
function SearchDialogListItem({ item, className, children, renderMarkdown = (s) => /* @__PURE__ */ jsxRuntimeExports.jsx(mdRenderer.Markdown, {
  components: mdComponents,
  children: s
}), renderHighlights: _, ...props }) {
  const { active: activeId, setActive } = useSearchList();
  const active = item.id === activeId;
  if (item.type === "action") children ??= item.node;
  else children ??= /* @__PURE__ */ jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment, { children: [
    /* @__PURE__ */ jsxRuntimeExports.jsx("div", {
      className: "inline-flex items-center text-fd-muted-foreground text-xs empty:hidden",
      children: item.breadcrumbs?.map((item2, i) => /* @__PURE__ */ jsxRuntimeExports.jsxs(reactExports.Fragment, { children: [i > 0 && /* @__PURE__ */ jsxRuntimeExports.jsx(ChevronRight, { className: "size-4 rtl:rotate-180" }), item2] }, i))
    }),
    item.type !== "page" && /* @__PURE__ */ jsxRuntimeExports.jsx("div", {
      role: "none",
      className: "absolute start-3 inset-y-0 w-px bg-fd-border"
    }),
    item.type === "heading" && /* @__PURE__ */ jsxRuntimeExports.jsx(Hash, { className: "absolute start-6 top-2.5 size-4 text-fd-muted-foreground" }),
    /* @__PURE__ */ jsxRuntimeExports.jsx("div", {
      className: twMerge("min-w-0", item.type === "text" && "ps-4", item.type === "heading" && "ps-8", item.type === "page" || item.type === "heading" ? "font-medium" : "text-fd-popover-foreground/80"),
      children: typeof item.content === "string" ? renderMarkdown(item.content) : item.content
    })
  ] });
  return /* @__PURE__ */ jsxRuntimeExports.jsx("button", {
    type: "button",
    ref: reactExports.useCallback((element) => {
      if (active && element) e(element, {
        scrollMode: "if-needed",
        block: "nearest",
        boundary: element.parentElement
      });
    }, [active]),
    "aria-selected": active,
    className: twMerge("relative select-none shrink-0 px-2.5 py-2 text-start text-sm overflow-hidden rounded-lg", active && "bg-fd-accent text-fd-accent-foreground", className),
    onPointerMove: () => setActive(item.id),
    ...props,
    children
  });
}
function SearchDialogIcon(props) {
  const { isLoading } = useSearch();
  return /* @__PURE__ */ jsxRuntimeExports.jsx(Search, {
    ...props,
    className: twMerge("size-5 text-fd-muted-foreground", isLoading && "animate-pulse duration-400", props.className)
  });
}
const itemVariants = cva("rounded-md border px-2 py-0.5 text-xs font-medium text-fd-muted-foreground transition-colors", { variants: { active: { true: "bg-fd-accent text-fd-accent-foreground" } } });
function TagsList({ tag, onTagChange, allowClear = false, ...props }) {
  const onTagChangeCallback = reactExports.useRef(onTagChange);
  onTagChangeCallback.current = onTagChange;
  return /* @__PURE__ */ jsxRuntimeExports.jsx("div", {
    ...props,
    className: twMerge("flex items-center gap-1 flex-wrap", props.className),
    children: /* @__PURE__ */ jsxRuntimeExports.jsx(TagsListContext, {
      value: reactExports.useMemo(() => ({
        value: tag,
        onValueChange: (v) => onTagChangeCallback.current(v),
        allowClear
      }), [allowClear, tag]),
      children: props.children
    })
  });
}
function TagsListItem({ value, className, ...props }) {
  const { onValueChange, value: selectedValue, allowClear } = useTagsList();
  const selected = value === selectedValue;
  return /* @__PURE__ */ jsxRuntimeExports.jsx("button", {
    type: "button",
    "data-active": selected,
    className: twMerge(itemVariants({
      active: selected,
      className
    })),
    onClick: () => onValueChange(selected && allowClear ? void 0 : value),
    tabIndex: -1,
    ...props,
    children: props.children
  });
}
function useSearch() {
  const ctx = reactExports.use(RootContext);
  if (!ctx) throw new Error("Missing <SearchDialog />");
  return ctx;
}
function useTagsList() {
  const ctx = reactExports.use(TagsListContext);
  if (!ctx) throw new Error("Missing <TagsList />");
  return ctx;
}
function useSearchList() {
  const ctx = reactExports.use(ListContext);
  if (!ctx) throw new Error("Missing <SearchDialogList />");
  return ctx;
}
function useDebounce(value, delayMs = 1e3) {
  const [debouncedValue, setDebouncedValue] = reactExports.useState(value);
  reactExports.useEffect(() => {
    if (delayMs === 0) return;
    const handler = window.setTimeout(() => {
      setDebouncedValue(value);
    }, delayMs);
    return () => clearTimeout(handler);
  }, [delayMs, value]);
  if (delayMs === 0) return value;
  return debouncedValue;
}
function isDeepEqual(a, b) {
  if (a === b) return true;
  if (Array.isArray(a) && Array.isArray(b)) return b.length === a.length && a.every((v, i) => isDeepEqual(v, b[i]));
  if (typeof a === "object" && a && typeof b === "object" && b) {
    const aKeys = Object.keys(a);
    const bKeys = Object.keys(b);
    return aKeys.length === bKeys.length && aKeys.every((key) => Object.hasOwn(b, key) && isDeepEqual(a[key], b[key]));
  }
  return false;
}
function useDocsSearch(clientOptions, deps) {
  const { delayMs = 100, allowEmpty = false, ...client } = clientOptions;
  const [search, setSearch] = reactExports.useState("");
  const [results, setResults] = reactExports.useState("empty");
  const [error, setError] = reactExports.useState();
  const [isLoading, setIsLoading] = reactExports.useState(false);
  const debouncedValue = useDebounce(search, delayMs);
  const onStart = reactExports.useRef(void 0);
  useOnChange([clientOptions, debouncedValue], () => {
    if (onStart.current) {
      onStart.current();
      onStart.current = void 0;
    }
    setIsLoading(true);
    let interrupt = false;
    onStart.current = () => {
      interrupt = true;
    };
    async function run() {
      if (debouncedValue.length === 0 && !allowEmpty) return "empty";
      switch (client.type) {
        case "fetch": {
          const { fetchDocs } = await import("./fetch-D_OY-eAB-CII4epom.mjs");
          return fetchDocs(debouncedValue, client);
        }
        case "algolia": {
          const { searchDocs } = await import("./algolia-CfKKhsrI-DEifywqN.mjs");
          return searchDocs(debouncedValue, client);
        }
        case "orama-cloud": {
          const { searchDocs } = await import("./orama-cloud-cgTJNLo0-D9KZaDLQ.mjs");
          return searchDocs(debouncedValue, client);
        }
        case "orama-cloud-legacy": {
          const { searchDocs } = await import("./orama-cloud-legacy-Caf8mcU9-Bzxa8Ytn.mjs");
          return searchDocs(debouncedValue, client);
        }
        case "mixedbread": {
          const { search: search2 } = await import("./mixedbread-TBJmV3co-BLQPL2cH.mjs");
          return search2(debouncedValue, client);
        }
        case "static": {
          const { search: search2 } = await import("./static-BUXJwBmr-DWl8PKFl.mjs");
          return search2(debouncedValue, client);
        }
        default:
          throw new Error("unknown search client");
      }
    }
    run().then((res) => {
      if (interrupt) return;
      setError(void 0);
      setResults(res);
    }).catch((err) => {
      setError(err);
    }).finally(() => {
      setIsLoading(false);
    });
  }, (a, b) => !isDeepEqual(a, b));
  return {
    search,
    setSearch,
    query: {
      isLoading,
      data: results,
      error
    }
  };
}
function DefaultSearchDialog({ defaultTag, tags = [], api, delayMs, type = "fetch", allowClear = false, links = [], footer, ...props }) {
  const { locale } = useI18n();
  const [tag, setTag] = reactExports.useState(defaultTag);
  const { search, setSearch, query } = useDocsSearch(type === "fetch" ? {
    type: "fetch",
    api,
    locale,
    tag,
    delayMs
  } : {
    type: "static",
    from: api,
    locale,
    tag,
    delayMs
  });
  const defaultItems = reactExports.useMemo(() => {
    if (links.length === 0) return null;
    return links.map(([name, link]) => ({
      type: "page",
      id: name,
      content: name,
      url: link
    }));
  }, [links]);
  useOnChange(defaultTag, (v) => {
    setTag(v);
  });
  return /* @__PURE__ */ jsxRuntimeExports.jsxs(SearchDialog, {
    search,
    onSearchChange: setSearch,
    isLoading: query.isLoading,
    ...props,
    children: [
      /* @__PURE__ */ jsxRuntimeExports.jsx(SearchDialogOverlay, {}),
      /* @__PURE__ */ jsxRuntimeExports.jsxs(SearchDialogContent, { children: [/* @__PURE__ */ jsxRuntimeExports.jsxs(SearchDialogHeader, { children: [
        /* @__PURE__ */ jsxRuntimeExports.jsx(SearchDialogIcon, {}),
        /* @__PURE__ */ jsxRuntimeExports.jsx(SearchDialogInput, {}),
        /* @__PURE__ */ jsxRuntimeExports.jsx(SearchDialogClose, {})
      ] }), /* @__PURE__ */ jsxRuntimeExports.jsx(SearchDialogList, { items: query.data !== "empty" ? query.data : defaultItems })] }),
      /* @__PURE__ */ jsxRuntimeExports.jsxs(SearchDialogFooter, { children: [tags.length > 0 && /* @__PURE__ */ jsxRuntimeExports.jsx(TagsList, {
        tag,
        onTagChange: setTag,
        allowClear,
        children: tags.map((tag2) => /* @__PURE__ */ jsxRuntimeExports.jsx(TagsListItem, {
          value: tag2.value,
          children: tag2.name
        }, tag2.value))
      }), footer] })
    ]
  });
}
export {
  DefaultSearchDialog as default
};
